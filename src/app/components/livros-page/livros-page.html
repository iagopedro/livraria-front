<div class="livros-container">
  <!-- Cabe√ßalho da p√°gina -->
  <div class="page-header">
    <h1 class="page-title">Gerenciamento de Livros</h1>
    <p class="page-subtitle">Cadastre e gerencie sua cole√ß√£o de livros</p>
  </div>

  <div class="content-wrapper">
    <!-- Se√ß√£o de Cadastro -->
    <div class="section cadastro-section">
      <div class="section-header">
        <h2 class="section-title">üìö Cadastrar Novo Livro</h2>
      </div>
      
      <form class="cadastro-form" (ngSubmit)="cadastrarLivro()">
        <div class="form-group">
          <label for="titulo">T√≠tulo do Livro</label>
          <input 
            type="text" 
            id="titulo" 
            [(ngModel)]="novoLivro.titulo" 
            name="titulo"
            placeholder="Digite o t√≠tulo do livro"
            required>
        </div>

        <div class="form-group">
          <label for="autor">Autor</label>
          <input 
            type="text" 
            id="autor" 
            [(ngModel)]="novoLivro.autor" 
            name="autor"
            placeholder="Digite o nome do autor"
            required>
        </div>

        <div class="form-group">
          <label for="texto">Descri√ß√£o/Resumo</label>
          <textarea 
            id="texto" 
            [(ngModel)]="novoLivro.texto" 
            name="texto"
            placeholder="Digite uma descri√ß√£o ou resumo do livro"
            rows="4"
            required></textarea>
        </div>

        <div class="form-row">
          <div class="form-group">
            <label for="categoria">Categoria</label>
            <select 
              id="categoria" 
              [(ngModel)]="novoLivro.categoria" 
              name="categoria"
              required>
              <option value="" disabled>Selecione uma categoria</option>
              @for (categoria of categorias; track categoria) {
                <option [value]="categoria">{{ categoria }}</option>
              }
            </select>
          </div>

          <div class="form-group">
            <label for="tamanho">Tamanho</label>
            <select 
              id="tamanho" 
              [(ngModel)]="novoLivro.tamanho" 
              name="tamanho"
              required>
              <option value="" disabled>Selecione um tamanho</option>
              @for (tamanho of tamanhos; track tamanho) {
                <option [value]="tamanho">{{ tamanho }}</option>
              }
            </select>
          </div>
        </div>

        <button type="submit" class="btn-cadastrar">
          ‚ûï Cadastrar Livro
        </button>
      </form>
    </div>

    <!-- Se√ß√£o de Lista de Livros -->
    <div class="section lista-section">
      <div class="section-header">
        <h2 class="section-title">üìñ Livros Cadastrados</h2>
        <span class="total-livros">Total: {{ livrosFiltrados.length }} livros</span>
      </div>

      <!-- Se√ß√£o de Filtros -->
      <div class="filtros-section">
        <h3 class="filtros-title">üîç Filtrar Livros</h3>
        <div class="filtros-container">
          <div class="filtro-group">
            <label for="filtroCategoria">Categoria:</label>
            <select 
              id="filtroCategoria" 
              [(ngModel)]="filtroCategoria" 
              name="filtroCategoria"
              (ngModelChange)="aplicarFiltros()">
              <option value="">Todas as categorias</option>
              @for (categoria of categorias; track categoria) {
                <option [value]="categoria">{{ categoria }}</option>
              }
            </select>
          </div>

          <div class="filtro-group">
            <label for="filtroTamanho">Tamanho:</label>
            <select 
              id="filtroTamanho" 
              [(ngModel)]="filtroTamanho" 
              name="filtroTamanho"
              (ngModelChange)="aplicarFiltros()">
              <option value="">Todos os tamanhos</option>
              @for (tamanho of tamanhos; track tamanho) {
                <option [value]="tamanho">{{ tamanho }}</option>
              }
            </select>
          </div>

          <button class="btn-limpar-filtros" (click)="limparFiltros()">
            üóëÔ∏è Limpar Filtros
          </button>
        </div>
      </div>

      <div class="livros-grid">
        @for (livro of livrosFiltrados; track livro.id) {
          <div class="livro-card">
            <div class="livro-header">
              <h3 class="livro-titulo">{{livro.titulo}}</h3>
              <span class="livro-id">#{{livro.id}}</span>
            </div>
            
            <div class="livro-autor">
              <span class="autor-label">Por:</span>
              <span class="autor-nome">{{livro.autor}}</span>
            </div>

            <div class="livro-meta">
              <span class="livro-categoria">üìö {{livro.categoria}}</span>
              <span class="livro-tamanho">üìè {{livro.tamanho}}</span>
            </div>
            
            <div class="livro-texto">
              <p>{{livro.texto}}</p>
            </div>
            
            <div class="livro-actions">
              <button class="btn-editar" (click)="editarLivro(livro.id)">
                ‚úèÔ∏è Editar
              </button>
              <button class="btn-excluir" (click)="excluirLivro(livro.id)">
                üóëÔ∏è Excluir
              </button>
            </div>
          </div>
        }
      </div>

      <!-- Mensagem quando n√£o h√° livros -->
      @if (livrosFiltrados.length === 0) {
        <div class="empty-state">
          <div class="empty-icon">üìö</div>
          <h3>Nenhum livro encontrado</h3>
          <p>Tente ajustar os filtros ou cadastre um novo livro!</p>
        </div>
      }
    </div>
  </div>
</div>
